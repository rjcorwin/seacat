# Seacat Isometric Game Space
space:
  id: "{{SPACE_NAME}}"
  name: "{{SPACE_NAME}}"
  description: "Multiplayer isometric game world with 4 humans and 4 AI agents"
  default_participant: player1
  ui_theme: "{{UI_THEME}}"

participants:
  # Human Player 1
  player1:
    capabilities:
      - kind: "*" # Full capabilities

  # Human Player 2
  player2:
    capabilities:
      - kind: "*" # Full capabilities

  # Human Player 3
  player3:
    capabilities:
      - kind: "*" # Full capabilities

  # Human Player 4
  player4:
    capabilities:
      - kind: "*" # Full capabilities

  # Ship 1 - Interactive sailing vessel
  ship1:
    type: local
    command: "mew"
    args:
      - "mcp"
      - "ship-server"
    auto_start: true
    capabilities:
      - kind: "*" # Full capabilities (ship is trusted local participant)
    env:
      SHIP_ID: "ship1"
      SPACE_NAME: "{{SPACE_NAME}}"
      GATEWAY_URL: "ws://localhost:8080"
      SHIP_START_X: "200"
      SHIP_START_Y: "200"
      SHIP_START_HEADING: "east"
      TOKEN_PATH: ".mew/tokens/ship1.token"

  # Ship 2 - Second ship for combat testing (Phase 3)
  ship2:
    type: local
    command: "mew"
    args:
      - "mcp"
      - "ship-server"
    auto_start: true
    capabilities:
      - kind: "*" # Full capabilities (ship is trusted local participant)
    env:
      SHIP_ID: "ship2"
      SPACE_NAME: "{{SPACE_NAME}}"
      GATEWAY_URL: "ws://localhost:8080"
      SHIP_START_X: "200"
      SHIP_START_Y: "400"
      SHIP_START_HEADING: "west"
      TOKEN_PATH: ".mew/tokens/ship2.token"

  # AI Game Agent 1
  agent1:
    type: local
    command: "mew"
    args:
      [
        "agent",
        "run",
        "--gateway",
        "ws://localhost:${PORT}",
        "--space",
        "{{SPACE_NAME}}",
        "--token",
        "${TOKEN}",
        "--id",
        "agent1",
      ]
    auto_start: true
    capabilities:
      - kind: "chat"
      - kind: "chat/acknowledge"
      - kind: "chat/cancel"
      - kind: "reasoning/*"
      - kind: "stream/request"
      - kind: "stream/open"
      - kind: "stream/close"
      - kind: "stream/publish"
      - kind: "mcp/request"
        payload:
          method: "tools/*"
      - kind: "mcp/response"
      - kind: "participant/status"
    env:
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      OPENAI_BASE_URL: "{{AGENT_BASE_URL}}"
      OPENAI_MODEL: "{{AGENT_MODEL}}"
      MEW_AGENT_CONFIG: '{"maxIterations": 50, "requestTimeout": 300000, "reasoningEnabled": true, "conversationHistoryLength": 20, "systemPrompt": "You are a game agent in an isometric multiplayer world. You can move around using MCP tools. Explore the world and interact with other players."}'

  # AI Game Agent 2
  agent2:
    type: local
    command: "mew"
    args:
      [
        "agent",
        "run",
        "--gateway",
        "ws://localhost:${PORT}",
        "--space",
        "{{SPACE_NAME}}",
        "--token",
        "${TOKEN}",
        "--id",
        "agent2",
      ]
    auto_start: true
    capabilities:
      - kind: "chat"
      - kind: "chat/acknowledge"
      - kind: "chat/cancel"
      - kind: "reasoning/*"
      - kind: "stream/request"
      - kind: "stream/open"
      - kind: "stream/close"
      - kind: "stream/publish"
      - kind: "mcp/request"
        payload:
          method: "tools/*"
      - kind: "mcp/response"
      - kind: "participant/status"
    env:
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      OPENAI_BASE_URL: "{{AGENT_BASE_URL}}"
      OPENAI_MODEL: "{{AGENT_MODEL}}"
      MEW_AGENT_CONFIG: '{"maxIterations": 50, "requestTimeout": 300000, "reasoningEnabled": true, "conversationHistoryLength": 20, "systemPrompt": "You are a game agent in an isometric multiplayer world. You can move around using MCP tools. Explore the world and interact with other players."}'

  # AI Game Agent 3
  agent3:
    type: local
    command: "mew"
    args:
      [
        "agent",
        "run",
        "--gateway",
        "ws://localhost:${PORT}",
        "--space",
        "{{SPACE_NAME}}",
        "--token",
        "${TOKEN}",
        "--id",
        "agent3",
      ]
    auto_start: true
    capabilities:
      - kind: "chat"
      - kind: "chat/acknowledge"
      - kind: "chat/cancel"
      - kind: "reasoning/*"
      - kind: "stream/request"
      - kind: "stream/open"
      - kind: "stream/close"
      - kind: "stream/publish"
      - kind: "mcp/request"
        payload:
          method: "tools/*"
      - kind: "mcp/response"
      - kind: "participant/status"
    env:
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      OPENAI_BASE_URL: "{{AGENT_BASE_URL}}"
      OPENAI_MODEL: "{{AGENT_MODEL}}"
      MEW_AGENT_CONFIG: '{"maxIterations": 50, "requestTimeout": 300000, "reasoningEnabled": true, "conversationHistoryLength": 20, "systemPrompt": "You are a game agent in an isometric multiplayer world. You can move around using MCP tools. Explore the world and interact with other players."}'

  # AI Game Agent 4
  agent4:
    type: local
    command: "mew"
    args:
      [
        "agent",
        "run",
        "--gateway",
        "ws://localhost:${PORT}",
        "--space",
        "{{SPACE_NAME}}",
        "--token",
        "${TOKEN}",
        "--id",
        "agent4",
      ]
    auto_start: true
    capabilities:
      - kind: "chat"
      - kind: "chat/acknowledge"
      - kind: "chat/cancel"
      - kind: "reasoning/*"
      - kind: "stream/request"
      - kind: "stream/open"
      - kind: "stream/close"
      - kind: "stream/publish"
      - kind: "mcp/request"
        payload:
          method: "tools/*"
      - kind: "mcp/response"
      - kind: "participant/status"
    env:
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      OPENAI_BASE_URL: "{{AGENT_BASE_URL}}"
      OPENAI_MODEL: "{{AGENT_MODEL}}"
      MEW_AGENT_CONFIG: '{"maxIterations": 50, "requestTimeout": 300000, "reasoningEnabled": true, "conversationHistoryLength": 20, "systemPrompt": "You are a game agent in an isometric multiplayer world. You can move around using MCP tools. Explore the world and interact with other players."}'

defaults:
  capabilities:
    - kind: "chat"
    - kind: "stream/request"
    - kind: "stream/open"
    - kind: "stream/close"
    - kind: "stream/publish"
    - kind: "participant/status"
